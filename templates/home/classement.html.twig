{% extends 'base.html.twig' %}

{% block body %}
    <table class="table table-stripped body-scroll">
        <thead>
        <tr>
            <th>#</th>
            <th>{{ knp_pagination_sortable(classement,'Nom','c.fullName') }}</th>
            <th>{{ knp_pagination_sortable(classement,'Alternant','c.isAlternant') }}</th>
            <th>{{ knp_pagination_sortable(classement,'D1','c.d1') }}</th>
            <th>{{ knp_pagination_sortable(classement,'D2','c.d2') }}</th>
            <th>{{ knp_pagination_sortable(classement,'D3','c.d3') }}</th>
            <th>{{ knp_pagination_sortable(classement,'D4','c.d4') }}</th>
            <th>{{ knp_pagination_sortable(classement,'D5','c.d5') }}</th>
            <th>{{ knp_pagination_sortable(classement,'D6','c.d6') }}</th>
            <th>{{ knp_pagination_sortable(classement,'Total','c.total') }}</th>
            <th>{{ knp_pagination_sortable(classement,'Domaines valid√©s','c.acquieredDomains') }}</th>
        </tr>
        <tr>
            <th colspan="3">Moyennes</th>
            <th>{{ avg['D1']|round(2) }}%</th>
            <th>{{ avg['D2']|round(2) }}%</th>
            <th>{{ avg['D3']|round(2) }}%</th>
            <th>{{ avg['D4']|round(2) }}%</th>
            <th>{{ avg['D5']|round(2) }}%</th>
            <th>{{ avg['D6']|round(2) }}%</th>
            <th>{{ avg['total']|round(2) }}%</th>
            <th>{{ avg['acquieredDomains']|round(2) }}%</th>
        </tr>
        </thead>
        <tbody>
        {% set i = 1 %}
        {% for entry in classement %}
            <tr>
                <td>{{ i }}{% set i = i+1 %}</td>
                <td>{{ entry.fullName }}</td>
                <td>{% if entry.isAlternant %}<i class="fa fa-check text-success"></i>{% else %}<i class="fa fa-times text-danger"></i>{% endif %}</td>
                <td><span {% if entry.d1 >= 66.66 %}class="text-success">{% elseif entry.d1 >= 50 %}class="text-warning">{% else %}class="text-danger">{% endif %}{{ entry.d1|round(2) }}%</span></td>
                <td><span {% if entry.d2 >= 66.66 %}class="text-success">{% elseif entry.d2 >= 50 %}class="text-warning">{% else %}class="text-danger">{% endif %}{{ entry.d2|round(2) }}%</span></td>
                <td><span {% if entry.d3 >= 66.66 %}class="text-success">{% elseif entry.d3 >= 50 %}class="text-warning">{% else %}class="text-danger">{% endif %}{{ entry.d3|round(2) }}%</span></td>
                <td><span {% if entry.d4 >= 66.66 %}class="text-success">{% elseif entry.d4 >= 50 %}class="text-warning">{% else %}class="text-danger">{% endif %}{{ entry.d4|round(2) }}%</span></td>
                <td><span {% if entry.d5 >= 66.66 %}class="text-success">{% elseif entry.d5 >= 50 %}class="text-warning">{% else %}class="text-danger">{% endif %}{{ entry.d5|round(2) }}%</span></td>
                <td><span {% if entry.d6 >= 66.66 %}class="text-success">{% elseif entry.d6 >= 50 %}class="text-warning">{% else %}class="text-danger">{% endif %}{{ entry.d6|round(2) }}%</span></td>
                <td><span {% if entry.total >= 66.66 %}class="text-success">{% elseif entry.total >= 50 %}class="text-warning">{% else %}class="text-danger">{% endif %}{{ entry.total|round(2) }}%</span></td>
                <td>{{ entry.acquieredDomains }}/6</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
{% endblock %}
